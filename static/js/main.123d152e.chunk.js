(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{16:function(t,e,i){},18:function(t,e,i){"use strict";i.r(e);var r=i(1),n=i.n(r),o=i(7),a=i.n(o),s=(i(16),i(3)),c=i(8),d=i(11),l=i(10),u=i(0);var f=function(t){return Object(u.jsx)("div",{className:"box",style:{backgroundColor:t.color}})},h=i(9);var v=function(t){for(var e=t.board,i=t.rows,r=t.cols,n=function(t,i){return Object(u.jsx)(f,{color:h[e[t][i]]},"".concat(t," ").concat(i))},o=function(t){for(var e=[],i=0;i<r;++i)e.push(n(t,i));return Object(u.jsx)("div",{className:"row",children:e},t)},a=[],s=0;s<i;++s)a.push(o(s));return Object(u.jsx)("div",{id:"board",children:a})},m=i(5),w=i(2),b=function t(){var e=this;Object(s.a)(this,t),this.getRandom=function(){var t=e.pieces[Math.floor(7*Math.random())];return t===e.pid?e.pieces[Math.floor(7*Math.random())]:t},this.drawTetrimino=function(){var t,i=e.getTetrimino(e.x,e.y,e.pid,e.rid),r=Object(w.a)(e.tetrimino);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.board[n[0]][n[1]]="0"}}catch(c){r.e(c)}finally{r.f()}var o,a=Object(w.a)(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.board[s[0]][s[1]]=e.pid}}catch(c){a.e(c)}finally{a.f()}e.tetrimino=i},this.getTetrimino=function(t,e,i,r){if("I"===i)return r%2===1?[[t-3,e],[t-2,e],[t-1,e],[t,e]]:[[t,e-3],[t,e-2],[t,e-1],[t,e]];if("J"===i){if(0===r)return[[t-1,e-2],[t,e-2],[t,e-1],[t,e]];if(1===r)return[[t-2,e-1],[t-1,e-1],[t,e-1],[t,e-2]];if(2===r)return[[t-1,e-2],[t-1,e-1],[t-1,e],[t,e]];if(3===r)return[[t-2,e-1],[t-2,e-2],[t-1,e-2],[t,e-2]]}else if("L"===i){if(0===r)return[[t-1,e],[t-1,e-1],[t-1,e-2],[t,e-2]];if(1===r)return[[t-2,e-1],[t-1,e-1],[t,e-1],[t,e]];if(2===r)return[[t,e-2],[t,e-1],[t,e],[t-1,e]];if(3===r)return[[t-2,e-1],[t-2,e-2],[t-1,e-1],[t,e-1]]}else{if("O"===i)return[[t-1,e-1],[t,e-1],[t-1,e],[t,e]];if("S"===i)return r%2===0?[[t,e-2],[t,e-1],[t-1,e-1],[t-1,e]]:[[t-2,e-1],[t-1,e-1],[t-1,e],[t,e]];if("T"===i){if(0===r)return[[t-1,e-2],[t-1,e-1],[t-1,e],[t,e-1]];if(1===r)return[[t-2,e-1],[t-1,e-1],[t,e-1],[t-1,e]];if(2===r)return[[t,e-2],[t,e-1],[t,e],[t-1,e-1]];if(3===r)return[[t-2,e],[t-1,e],[t,e],[t-1,e-1]]}else if("Z"===i)return r%2===0?[[t-1,e-2],[t-1,e-1],[t,e-1],[t,e]]:[[t-2,e],[t-1,e],[t-1,e-1],[t,e-1]]}},this.spawnTetrimino=function(){e.pid=e.getRandom(),e.rid=0,e.x="I"===e.pid?0:1,e.y=5,e.tetrimino=e.getTetrimino(e.x,e.y,e.pid,e.rid);var t,i=Object(w.a)(e.tetrimino);try{for(i.s();!(t=i.n()).done;){var r=Object(m.a)(t.value,2),n=r[0],o=r[1];"0"!==e.board[n][o]&&(e.done=!0)}}catch(a){i.e(a)}finally{i.f()}e.drawTetrimino()},this.isValidTetrimino=function(t){var i,r=Object(w.a)(t);try{for(r.s();!(i=r.n()).done;){var n=Object(m.a)(i.value,2),o=n[0],a=n[1];if(o<0||o>=e.rows||a<0||a>=e.cols)return;if("0"!==e.board[o][a]){var s,c=!0,d=Object(w.a)(e.tetrimino);try{for(d.s();!(s=d.n()).done;){var l=Object(m.a)(s.value,2),u=l[0],f=l[1];if(u===o&&f===a){c=!1;break}}}catch(h){d.e(h)}finally{d.f()}if(c)return!1}}}catch(h){r.e(h)}finally{r.f()}return!0},this.down=function(){var t=e.getTetrimino(e.x+1,e.y,e.pid,e.rid);if(!e.isValidTetrimino(t))return e.updateScore(),void e.spawnTetrimino();++e.x,e.drawTetrimino()},this.rotate=function(){var t=e.getTetrimino(e.x,e.y,e.pid,(e.rid+1)%4);e.isValidTetrimino(t)&&(e.rid=(e.rid+1)%4,e.drawTetrimino())},this.left=function(){var t=e.getTetrimino(e.x,e.y-1,e.pid,e.rid);e.isValidTetrimino(t)&&(--e.y,e.drawTetrimino())},this.right=function(){var t=e.getTetrimino(e.x,e.y+1,e.pid,e.rid);e.isValidTetrimino(t)&&(++e.y,e.drawTetrimino())},this.updateScore=function(){for(var t=e.rows-1;t>=0;--t){for(var i=!0,r=0;r<e.cols;++r)if("0"===e.board[t][r]){i=!1;break}i&&(e.board.splice(t,1),e.board.splice(0,0,Array(e.cols).fill("0")),++e.score,++t)}},this.rows=20,this.cols=10,this.pieces=["I","J","L","O","S","T","Z"],this.board=Array(this.rows).fill().map((function(){return Array(e.cols).fill("0")})),this.score=0,this.spawnTetrimino(),this.done=!1},p=function(t){Object(d.a)(i,t);var e=Object(l.a)(i);function i(){var t;Object(s.a)(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={tetris:new b,ditchInterval:!1},t.steps=0,t.interval=900,t.handleReset=function(){t.setState({tetris:new b,ditchInterval:!1}),t.steps=0,t.interval=900,window.clearTimeout(t.tid),t.tid=window.setTimeout(t.intervalFunc,t.interval)},t.intervalFunc=function(){var e=t.state,i=e.tetris;e.ditchInterval||i.done||(i.down(),t.setState({tetris:i}),++t.steps,t.steps%6===0&&--t.interval),t.tid=window.setTimeout(t.intervalFunc,t.interval),console.log(t.interval)},t.handleKeyPress=function(e){var i=e.key,r=t.state.tetris;r.done||("ArrowLeft"===i?(r.left(),t.setState({ditchInterval:!0}),window.setTimeout((function(){return t.setState({ditchInterval:!1})}),50)):"ArrowUp"===i?(r.rotate(),t.setState({ditchInterval:!0}),window.setTimeout((function(){return t.setState({ditchInterval:!1})}),50)):"ArrowRight"===i?(r.right(),t.setState({ditchInterval:!0}),window.setTimeout((function(){return t.setState({ditchInterval:!1})}),50)):"ArrowDown"===i&&(r.down(),t.setState({ditchInterval:!0}),++t.steps,t.steps%6===0&&--t.interval,window.setTimeout((function(){return t.setState({ditchInterval:!1})}),50)))},t}return Object(c.a)(i,[{key:"componentDidMount",value:function(){this.tid=window.setTimeout(this.intervalFunc,this.interval),document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.tid),document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var t=this.state.tetris;return Object(u.jsxs)("div",{className:"game",children:[Object(u.jsx)(v,{board:t.board,rows:t.rows,cols:t.cols}),Object(u.jsxs)("div",{id:"bottom",style:{textAlign:"center"},children:[Object(u.jsxs)("p",{id:"score",children:["Score: ",t.score]}),Object(u.jsx)("button",{id:"pabtn",onClick:this.handleReset,children:"Play Again"})]})]})}}]),i}(r.Component);var j=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{id:"heading",children:"Tetris"}),Object(u.jsx)(p,{})]})},y=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(e){var i=e.getCLS,r=e.getFID,n=e.getFCP,o=e.getLCP,a=e.getTTFB;i(t),r(t),n(t),o(t),a(t)}))};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(j,{})}),document.getElementById("root")),y()},9:function(t){t.exports=JSON.parse('{"0":"#000000","I":"#02f0ef","J":"#0101ef","L":"#efa000","O":"#eff200","S":"#00ef02","T":"#a000f1","Z":"#ef0100"}')}},[[18,1,2]]]);
//# sourceMappingURL=main.123d152e.chunk.js.map